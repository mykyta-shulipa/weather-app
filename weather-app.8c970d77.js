parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"FO+Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.displayInUnits=r,exports.getDateFromUnixTimestamp=n,exports.getIconFromCode=s,exports.getOpenWeatherMapUrl=i,exports.allowedCities=exports.cityCoordinates=exports.FAHRENHEIT_UNITS=exports.CELSIUS_UNITS=exports.KELVIN_UNITS=void 0;const t="K";exports.KELVIN_UNITS="K";const e="C";exports.CELSIUS_UNITS=e;const o="F";function r(t,r){switch(r){case e:return`${Math.round(t-273.15)}˚C`;case o:return`${Math.round(1.8*(t-273.15)+32)}˚F`;default:return`${t}˚K`}}function n(t){return new Date(1e3*t).toLocaleDateString()}function s(t){return`<img src="http://openweathermap.org/img/wn/${t}@2x.png" width="30px" height="30px" alt="weather icon">`}exports.FAHRENHEIT_UNITS=o;const a={London:{lat:51.5085,lon:-.1257},Kyiv:{lat:50.4333,lon:30.5167},Warsaw:{lat:52.2298,lon:21.0118},Paris:{lat:48.8534,lon:2.3488}};exports.cityCoordinates=a;const p=Object.keys(a);function i(t){const{lat:e,lon:o}=a[t];return`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${o}&exclude=minutely,hourly,alerts&appid=`}exports.allowedCities=p;
},{}],"Focm":[function(require,module,exports) {
"use strict";var n=require("./utils");function t(n){window.dataStore.currentCity=n,window.dataStore.error=null,window.dataStore.isDataLoading=!0,window.validateAndLoadData().then(({error:t,data:e})=>{window.dataStore.isDataLoading=!1,t?window.dataStore.error=t:e&&(window.dataStore.cityByWeather[n]=e)}).catch(()=>{window.dataStore.error="Some error occurred."}).finally(window.renderApp)}function e(n){window.dataStore.currentUnits=n,window.renderApp()}function r(){const{currentCity:n,cityByWeather:t}=window.dataStore;return t[n]}function i(){const{currentCity:n,cityByWeather:t}=window.dataStore;return t.hasOwnProperty(n)}function a(){const{currentCity:t}=window.dataStore;if(!n.allowedCities.includes(t)){const t=`Enter one of the city names: ${n.allowedCities.join(", ")}.`;return Promise.resolve({error:t})}if(!i()){const e=(0,n.getOpenWeatherMapUrl)(t);return fetch(e).then(n=>n.json()).then(n=>({data:n}))}return Promise.resolve({})}function o(){document.getElementById("app-root").innerHTML=`\n        ${d()}\n    `}function d(){return`<div>\n   ${s()}\n   ${c()}\n  </div>`}function c(){const{isDataLoading:n,currentUnits:t,error:r,currentCity:a}=window.dataStore;let o="";return""===a?o="Search by city name":(n&&(o="Loading..."),null!==r&&(o=r),i()&&(o=`\n       ${u(t,e)}\n       <br/>\n       ${w()}\n       <br/>\n       ${l()}\n    `)),`<p>${o}</p>`}function u(t,e){return`\n    <p>Select units</p>\n  ${[{id:"celsius-units",value:n.CELSIUS_UNITS,name:"C"},{id:"fahrenheit-units",value:n.FAHRENHEIT_UNITS,name:"F"}].map(({id:n,value:r,name:i})=>`<div>\n          <input \n              type="radio" \n              id="${n}"\n              name="temperature-units" \n              value="${r}" \n              ${t===r?" checked ":""} \n              onchange="(${e})(this.value);"\n          >\n            <label for="${n}">˚${i}</label>\n        </div>`).join("")}\n`}function s(){return`\n    <input\n        type="text"\n        value="${window.dataStore.currentCity}"\n        onchange="window.performSearch(this.value)"\n    />\n`}function w(){const{currentCity:t,currentUnits:e}=window.dataStore,i=r();let a="";if(i){const{current:{dt:r,temp:o,weather:[{main:d,description:c,icon:u}]}}=i,s=(0,n.displayInUnits)(o,e);a+=`<div>Weather for ${(0,n.getDateFromUnixTimestamp)(r)} in ${t}:</div>`,a+=`<div>${(0,n.getIconFromCode)(u)} ${d} (${c}). Temperature is ${s}</div>`}return a?`<div>${a}</div>`:""}function l(){const{currentCity:t,currentUnits:e}=window.dataStore,i=r();let a="";if(i){a+=`<div>Weather forecast for ${t}:</div>`;const{daily:[,...r]}=i;a+=r.map(t=>{return p(function({dt:t,temp:{day:r,night:i},weather:[{main:a,description:o,icon:d}]}){return{dateString:(0,n.getDateFromUnixTimestamp)(t),dayTempInUnits:(0,n.displayInUnits)(r,e),description:o,main:a,nightTempInUnits:(0,n.displayInUnits)(i,e),weatherIcon:(0,n.getIconFromCode)(d)}}(t))}).join("")}return a?`<div>${a}</div>`:""}function p({dateString:n,dayTempInUnits:t,description:e,main:r,nightTempInUnits:i,weatherIcon:a}){return`<div>For ${n}, ${a} ${r} (${e}). Day at ${t}, night at ${i}</div>`}module.hot&&module.hot.accept(),window.dataStore=window.dataStore||{currentCity:"",isDataLoading:!1,error:null,cityByWeather:{},currentUnits:n.CELSIUS_UNITS},window.renderApp=o,window.validateAndLoadData=a,window.performSearch=t,o();
},{"./utils":"FO+Z"}]},{},["Focm"], null)
//# sourceMappingURL=weather-app.8c970d77.js.map